apiVersion: v1
kind: Pod
metadata:
  name: s3-app
  namespace: s3-demo
spec:
  # serviceAccountName: kube-system/my-service-account
  containers:
    - name: app
      image: centos
      command: ["/bin/sh"]
      args:
        [
          "-c",
          "echo 'Hello from the container!' >> /data/$(date -u).txt; tail -f /dev/null",
        ]
      volumeMounts:
        - name: mountpoint-s3
          mountPath: /mountpoint-s3
  volumes:
    - name: mountpoint-s3
      persistentVolumeClaim:
        claimName: s3-claim
