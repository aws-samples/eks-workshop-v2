---
title: 'Accessing Argo CD'
sidebar_position: 10
weight: 10
---

:::info
For the purpose of this lab, Argo CD server has already been exposed outside of the cluster using `Load Balancer` type. To see how we set up Argo CD in the cluster with EKS Terraform Blueprint, please refer to this [section](https://github.com/aws-samples/eks-workshop-v2/blob/d12e0008d688460f2d0a93c83e1ff3c5b03f72e6/terraform/modules/cluster/addons.tf#L240-L254).
::: 

To get the URL from Argo CD service, run the following command:

```bash
$ kubectl get service -n argocd argocd-server -o jsonpath="{.status.loadBalancer.ingress[*].hostname}{'\n'}" 
acfac042a61e5467aace45fc66aee1bf-818695545.us-west-2.elb.amazonaws.com
```

The initial username is `admin`. The password is autogenerated with the pod name of the ArgoCD API server. You can get it by running the following command:

```bash
$ echo "$(kubectl -n argocd get secret argocd-initial-admin-secret -o jsonpath="{.data.password}" | base64 -d)"
```

Log in to the Argo CD UI using the URL and credentials you just obtained.

You will be presented with a screen that looks like this:

<img src={require('./assets/argocd-ui.png').default}/>

Argo CD also provides a powerful CLI tool called `argocd` that can be used to manage applications.

:::info
For the purpose of this lab, `argocd` CLI has been installed for you. You can learn more about installing the CLI tool by following the [instructions](https://argoproj.github.io/argo-cd/cli_installation/)
:::

In order to interact with Argo CD objects using CLI, we need to login to the Argo CD server by running the following commands:

```bash
$ ARGOCD_SERVER=$(kubectl get service -n argocd argocd-server -o jsonpath="{.status.loadBalancer.ingress[*].hostname}{'\n'}")
$ ARGO_PWD=$(kubectl -n argocd get secret argocd-initial-admin-secret -o jsonpath="{.data.password}" | base64 -d)
$ argocd login $ARGOCD_SERVER --username admin --password $ARGO_PWD --insecure
```

The shell will return the following output if you're succefully loged in:

```bash
$ 'admin:login' logged in successfully
$ Context 'acfac042a61e5467aace45fc66aee1bf-818695545.us-west-2.elb.amazonaws.com' updated 
```